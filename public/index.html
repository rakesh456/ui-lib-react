<!DOCTYPE html>
<html lang="en">

<head>
    <title>Form Generator</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <script>

        function onInputHandler() {
            console.log('onInputHandler called ');
        }

        function onFocusHandler() {
            console.log('onFocusHandler called ');
        }

        function onChangeHandler() {
            console.log('onChangeHandler called ');
        }

        function onBlurHandler() {
            console.log('onBlurHandler called ');
        }

        function onKeyDownHandler() {
            console.log('onKeyDownHandler called ');
        }

        function onKeyUpHandler() {
            console.log('onKeyUpHandler called ');
        }

        function onDoubleClickHandler() {
            console.log('onDoubleClickHandler called ');
        }

        function onMouseDownHandler() {
            console.log('onMouseDownHandler called ');
        }

        function onMouseUpHandler() {
            console.log('onMouseUpHandler called ');
        }

        function onMouseEnterHandler() {
            console.log('onMouseEnterHandler called ');
        }

        function onMouseLeaveHandler() {
            console.log('onMouseLeaveHandler called ');
        }

        function onMouseMoveHandler() {
            console.log('onMouseMoveHandler called ');
        }

        function onMouseOverHandler() {
            console.log('onMouseOverHandler called ');
        }

        function onMouseOutHandler() {
            console.log('onMouseOutHandler called ');
        }

        function onWheelHandler() {
            console.log('onWheelHandler called ');
        }

        function setValue(id, value) {
            let element = document.getElementById(id);
            element.setValue(value);
        }

        function refresh(id) {
            let element = document.getElementById(id);
            element.refresh();
        }

        function getStartDate(id, divId) {
            let element = document.getElementById(id);
            let dateValue = element.getStartDate();
            let element2 = document.getElementById(divId);
            if (element2) {
                element2.innerHTML = 'Get Start Date : ' + dateValue;
            }
        }

        function getEndDate(id, divId) {
            let element = document.getElementById(id);
            let dateValue = element.getEndDate();
            let element2 = document.getElementById(divId);
            if (element2) {
                element2.innerHTML = 'Get End Date : ' + dateValue;
            }
        }

        function addDatepickerNew(id) {
            let element = document.getElementById(id);

        }

        window.onload = bodyOnload;

        function bodyOnload() {
            let element = document.getElementById('datepicker1');
            let elementDiv = document.getElementById('display2');
        }

        function reloadDatepicker(id) {
            let element = document.getElementById(id);
            let options = JSON.parse(element.getAttribute('data-options'));
            options.isDisabled = true;
            element.setAttribute('data-options', JSON.stringify(options));
            element.reload();
        }

        function updateToDate(from, to) {
            let fromElement = document.getElementById(from);
            let element = document.getElementById(to);
            let _value = fromElement.getValue();

            // {"displayFormat": "MM/DD/YYYY", "defaultDate": "11/25/2000", "iconAlignment":"Left", "dateStringAlignment": "Left", "lowerLimit": "05/25/2018", "upperLimit": "07/25/2000", "showErrorMessage": true, "validationMessages": [{"inValidFormat": "Invalid DOB"}, { "outsideRange": "Date is out of range"}] , "isDisabled": false, "showButtons": false, "showClearIcon": false, "manualEntry": true, "disabledList": ["11/25/2000", "11/29/2000", "11/13/2019", "11/14/2019", "06/2016", "2015"], "indicatorList": [{ "dates": ["10/01/2019","11/01/2019"], "color": "#333" }, { "dates": ["09/02/2019","08/01/2019"], "color": "#ff0000" }]}
            element.setDataOption({ "lowerLimit": "12/01/2019" });
        }

        function displayValue(id, divId) {
            let element = document.getElementById('datepicker3');

            element.setDataOption("lowerLimit", "18/12/2019");

            let dateValue = element.getValue();
            let element2 = document.getElementById(divId);

            if (element2) {
                element2.innerHTML = 'From displayValue function : ' + dateValue;
            }
        }

        function submitForm() {
            var form = document.forms["myform"];
        }

        function getSelectedValuesById(id) {
            let tagElement1 = document.getElementById(id);
            let divElement = document.getElementById('SelectedValues');
            let selectedValues = tagElement1.getSelectedValues();
            divElement.innerHTML = 'Selected Values : ' + JSON.stringify(selectedValues);
            console.log(' selectedValues ', selectedValues);
        }

        function getSelectedCounterById(id) {
            let tagElement1 = document.getElementById(id);
            let divElement = document.getElementById('SelectedCounter');
            let selectedCounter = tagElement1.getSelectedCounter();
            divElement.innerHTML = 'Selected Counter : ' + selectedCounter;
            console.log(' selectedCounter ', selectedCounter);
        }

        function refreshTagSelector(id) {
            let tagElement1 = document.getElementById(id);
            let selectedCounter = tagElement1.refresh();
        }

        function remove(id, id2) {
            let tagElement1 = document.getElementById(id);
            tagElement1.remove({ "key": "AL", "value": "Albania" });

            let tagElement2 = document.getElementById(id2);
            tagElement2.remove({ "key": "Surat", "value": "Surat" });
        }

        function appendNewElementById(id) {
            let tagElement1 = document.getElementById(id);
            let selectedCounter = tagElement1.appendNewElement({ "key": "Test", "value": "BPO" });
        }

        function setSelectedItems(id) {
            let tagElement1 = document.getElementById(id);
            let selectedCounter = tagElement1.setSelectedItems([{ "value": "Albania", "key": "AL" }, { "value": "Turkey", "key": "TR" }]);

            let tagElement2 = document.getElementById('tagselector2');
            let selectedCounter1 = tagElement2.setSelectedItems([{ "key": "Adoni", "value": "Adoni" }]);
        }

        function getNewlyAddedById(id) {
            let tagElement1 = document.getElementById(id);
            let divElement = document.getElementById('NewlyAddedElements');
            let newlyAddedElements = tagElement1.getNewlyAdded();
            divElement.innerHTML = 'Newly Added Elements : ' + JSON.stringify(newlyAddedElements);
        }

        function onSelectHandler(e) {
            console.log('Tag selector onSelect called ', e.detail);
        }

        function onDeSelectHandler(e) {
            console.log('Tag selector onSelect called ', e.detail);
        }

        function onNotFoundHandler(e) {
            console.log('onNotFound called ');
        }
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }
        window.onclick = function (event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }

    </script>
    <style>
        .div-buttons {
            display: block;
            margin: 10px;
        }

        .col-100 {
            width: 100%;
            /* float: left; */
        }
        
        .col-50 {
            width: 50%;
            float: left;
        }
        .col-25 {
            width: 25%;
            float: left;
        }
    </style>
</head>

<body>
   <h1 style="text-align: center;">Form Generator</h1> 
   <textarea style=" display: block; margin-left: auto; margin-right: auto;" id="userjson" rows="10" cols="100"></textarea> 
   <button type="submit" value="submit" onclick="validate_JSON()">Submit</button> 
   <script>
      function validate_JSON()
      {
      var jsondata ={}
      jsondata = document.getElementById("userjson").value;
      var formgene = document.getElementById("tag1");
      try{
         JSON.parse(jsondata)
      }
      catch (e)
      {
       alert("Invalid JSON");
      }
      // jsondata = "'"+jsondata+"'";
      console.log(jsondata);
      console.log(formgene);
      formgene.setJsonData(jsondata);
      
      
      // document.getElementById("formGen1").setAttribute("data-options", "jsondata");
      // renderForm()
      // <form-gen id='formGen1' data-options ={jsondata} ></form-gen>
      
      
   }
      
   </script>
    
    <form-gen id='formGen1' data-options ='jsondata'></form-gen>  
    
 
</body>
      
</html>