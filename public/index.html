<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Web site created using create-react-app" />
    <link rel="apple-touch-icon" href="logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />


    <title>React App</title>

    <script>

        function bodyOnload() {
            let element = document.getElementById('datepicker1');
            let elementInput = document.getElementById('input1');
            let elementDiv = document.getElementById('datevalue2');
            elementInput.addEventListener("change", function (event){
                console.log(' change ', event);
            });

            element.addEventListener("ftxselected", function (event){
                console.log(' Event from addEventListener ', e);
            });
        }

        function onSelectedHandler(e) {
            console.log(' Event from onSelectedHandler ', e);
        }

        function displayValue(id, divId) {
            let element = document.getElementById(id);
            let dateValue = element.getValue();
            let element2 = document.getElementById(divId);
            element2.innerHTML = dateValue;
        }

        function setValue(id) {
            let element = document.getElementById(id);
            element.setValue('2019-09-01');
        }

        function addDatepicker(id) {
            let element = document.getElementById(id);
            // element.innerHTML = '<date-picker id="datepicker2" data-options='{"displayFormat": "MM/DD/YYYY", "iconAlignment":"Right", "dateStringAlignment": "Left", "lowerDateLimit": "2019-07-15", "upperDateLimit": "2019-09-15"}'></date-picker>';
            addReactDatepicker(element.children[0]);
        }

        function onChangeHandler(e) {
            console.log(' e ', e);
        }

        function changeText(id) {
            let element = document.getElementById(id);
            element.value = "test1";
            var event = new Event('change');
            element.dispatchEvent(event);
        }

    </script>

</head>

<body onload="bodyOnload()">
    <h2>Datepicker Sample using React Component</h2>
    <!-- Sample Usage: Options Set by JS-->
    <p>{"iconAlignment":"Right", "dateStringAlignment": "Left", "lowerDateLimit":
        "2019-07-15", "upperDateLimit": "2019-09-15"}</p>

    <date-picker id="datepicker1" data-options='{"displayFormat": "DD/MM/YYYY", "iconAlignment":"Right", "dateStringAlignment": "Left", "lowerDateLimit": "2019-07-15", "upperDateLimit": "2019-09-15"}' onFtxselected="onSelectedHandler(e)"></date-picker>

    <input type="text" value="test" id="input1" />

    <button onclick="changeText('input1');">Change Input</button>

    <br>
    <div id="datevalue1"></div>

    <button onclick="displayValue('datepicker1', 'datevalue1');">Display</button>
    <button onclick="setValue('datepicker1');">Set Value to 09/01/2019</button>

    <button onclick="addDatepicker('newdatepicker');">Add Datepicker</button>
    <br>
    <div id="newdatepicker"></div>

    <!-- <date-picker id="datepicker2" data-options='{"displayFormat": "DD/MM/YYYY", "iconAlignment":"Right", "dateStringAlignment": "Left", "lowerDateLimit": "2019-07-15", "upperDateLimit": "2019-09-15"}'></date-picker>
    <button onclick="displayValue('datepicker2', 'datevalue2');">Display</button>
    <button onclick="setValue('datepicker2');">Set Value to 09/01/2019</button> -->
    <br>
    <div id="datevalue2"></div>
</body>

</html>